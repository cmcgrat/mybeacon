<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="MyBeacon reveals who has your personal data, how much it's worth, and what to do about it. Get your free Beacon Score in 60 seconds.">
<meta property="og:title" content="MyBeacon â€” Know Your Privacy. Own Your Data.">
<meta property="og:description" content="Companies are profiting from your data. See your free Beacon Score and find out exactly who has your information.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://mybeacon.co">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="MyBeacon â€” Know Your Privacy. Own Your Data.">
<meta name="twitter:description" content="Companies are profiting from your data. Get your free Beacon Score in 60 seconds.">
<title>MyBeacon â€” Know Your Privacy. Own Your Data.</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800&family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&display=swap" rel="stylesheet">
<style>
  /* â”€â”€â”€ DESIGN SYSTEM â”€â”€â”€ */
  :root {
    /* Warm Landing Palette */
    --bg-warm: #FDFBF7;
    --bg-cream: #F7F3EC;
    --bg-card: #FFFFFF;
    --bg-card-hover: #FBF9F5;
    --teal: #0D9488;
    --teal-light: #14B8A6;
    --teal-soft: rgba(13,148,136,0.08);
    --teal-glow: rgba(13,148,136,0.15);
    --coral: #F97066;
    --coral-soft: rgba(249,112,102,0.1);
    --amber: #E8930C;
    --amber-soft: rgba(232,147,12,0.1);
    --green: #15803D;
    --green-soft: rgba(21,128,61,0.1);
    --purple-soft: rgba(124,58,237,0.08);
    --text-heading: #1A1A2E;
    --text-body: #4A4A5A;
    --text-muted: #8E8E9E;
    --text-light: #B0B0BC;
    --border: rgba(0,0,0,0.06);
    --border-hover: rgba(13,148,136,0.25);
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.02);
    --shadow-md: 0 4px 20px rgba(0,0,0,0.06);
    --shadow-lg: 0 12px 40px rgba(0,0,0,0.08);
    --radius: 16px;

    /* Dark Results Palette (activated after scan) */
    --bg-dark: #0B1120;
    --bg-dark-card: #131B2E;
    --bg-dark-hover: #1A2540;
    --accent-red: #F87171;
    --accent-amber: #FBBF24;
    --accent-green: #34D399;
    --accent-cyan: #22D3EE;
    --accent-purple: #A78BFA;
    --text-dark-primary: #F1F5F9;
    --text-dark-secondary: #94A3B8;
    --text-dark-muted: #64748B;
    --border-dark: rgba(148,163,184,0.1);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Plus Jakarta Sans', -apple-system, sans-serif;
    background: var(--bg-warm);
    color: var(--text-body);
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    transition: background 0.8s ease, color 0.8s ease;
  }
  body.dark-mode {
    background: var(--bg-dark);
    color: var(--text-dark-primary);
  }

  /* â”€â”€â”€ Warm background texture â”€â”€â”€ */
  .warm-bg {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
  }
  .warm-bg .glow {
    position: absolute;
    border-radius: 50%;
    filter: blur(100px);
  }
  .warm-bg .glow-1 {
    width: 600px; height: 600px;
    background: radial-gradient(circle, rgba(13,148,136,0.06), transparent 70%);
    top: -15%; right: -5%;
  }
  .warm-bg .glow-2 {
    width: 500px; height: 500px;
    background: radial-gradient(circle, rgba(249,112,102,0.05), transparent 70%);
    bottom: -10%; left: -5%;
  }
  .warm-bg .glow-3 {
    width: 350px; height: 350px;
    background: radial-gradient(circle, rgba(232,147,12,0.04), transparent 70%);
    top: 40%; left: 30%;
  }
  body.dark-mode .warm-bg { display: none; }

  /* Dark mode ambient */
  .dark-bg {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
    display: none;
  }
  body.dark-mode .dark-bg { display: block; }
  .dark-bg .orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(120px);
    opacity: 0.35;
    animation: orb-float 20s ease-in-out infinite alternate;
  }
  .dark-bg .orb-1 {
    width: 500px; height: 500px;
    background: radial-gradient(circle, rgba(239,68,68,0.15), transparent 70%);
    top: -10%; left: -5%;
  }
  .dark-bg .orb-2 {
    width: 400px; height: 400px;
    background: radial-gradient(circle, rgba(251,191,36,0.1), transparent 70%);
    bottom: -10%; right: -5%;
  }
  @keyframes orb-float {
    0% { transform: translate(0,0) scale(1); }
    100% { transform: translate(-20px,20px) scale(0.95); }
  }

  /* â”€â”€â”€ Layout â”€â”€â”€ */
  .container { max-width: 1080px; margin: 0 auto; padding: 0 24px; position: relative; z-index: 1; }

  /* â”€â”€â”€ Nav â”€â”€â”€ */
  nav {
    padding: 20px 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .logo {
    display: flex;
    align-items: center;
    gap: 10px;
    font-family: 'Playfair Display', serif;
    font-size: 24px;
    font-weight: 600;
    color: var(--text-heading);
    text-decoration: none;
    transition: color 0.5s;
  }
  body.dark-mode .logo { color: var(--text-dark-primary); }
  .logo-mark {
    width: 38px; height: 38px;
    background: linear-gradient(135deg, var(--teal), var(--teal-light));
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-family: 'Playfair Display', serif;
    font-size: 20px;
    font-weight: 700;
    box-shadow: 0 2px 12px rgba(13,148,136,0.25);
    transition: box-shadow 0.3s;
  }
  .logo:hover .logo-mark { box-shadow: 0 4px 20px rgba(13,148,136,0.35); }

  .nav-links { display: flex; gap: 28px; align-items: center; }
  .nav-links a {
    color: var(--text-muted);
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    transition: color 0.2s;
  }
  .nav-links a:hover { color: var(--text-heading); }
  body.dark-mode .nav-links a { color: var(--text-dark-secondary); }
  body.dark-mode .nav-links a:hover { color: var(--text-dark-primary); }

  .nav-cta {
    background: var(--teal) !important;
    color: white !important;
    padding: 10px 22px;
    border-radius: 10px;
    font-weight: 600 !important;
    transition: all 0.2s !important;
    box-shadow: 0 2px 8px rgba(13,148,136,0.2);
  }
  .nav-cta:hover { transform: translateY(-1px); box-shadow: 0 4px 16px rgba(13,148,136,0.3); }

  /* â”€â”€â”€ Hero â”€â”€â”€ */
  .hero {
    text-align: center;
    padding: 72px 0 60px;
  }
  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--teal-soft);
    border: 1px solid rgba(13,148,136,0.12);
    padding: 7px 18px;
    border-radius: 100px;
    font-size: 13px;
    color: var(--teal);
    font-weight: 600;
    margin-bottom: 28px;
    animation: fadeInDown 0.6s ease-out;
  }
  .hero-badge .dot {
    width: 7px; height: 7px;
    background: var(--teal);
    border-radius: 50%;
    animation: pulse-dot 2s ease-in-out infinite;
  }
  @keyframes pulse-dot {
    0%,100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.4; transform: scale(0.7); }
  }

  .hero h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(38px, 5.5vw, 64px);
    font-weight: 700;
    line-height: 1.1;
    letter-spacing: -0.02em;
    color: var(--text-heading);
    margin-bottom: 20px;
    animation: fadeInUp 0.8s ease-out;
  }
  .hero h1 .highlight {
    color: var(--teal);
    font-style: italic;
  }
  .hero p {
    font-size: 18px;
    color: var(--text-body);
    max-width: 540px;
    margin: 0 auto 40px;
    line-height: 1.7;
    animation: fadeInUp 0.8s ease-out 0.15s both;
  }

  /* â”€â”€â”€ Scan Form â”€â”€â”€ */
  .scan-form-wrap { animation: fadeInUp 0.8s ease-out 0.3s both; }
  .scan-form {
    display: flex;
    gap: 0;
    max-width: 560px;
    margin: 0 auto;
    background: var(--bg-card);
    border: 2px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
    transition: border-color 0.3s, box-shadow 0.3s;
    box-shadow: var(--shadow-sm);
  }
  .scan-form:focus-within {
    border-color: var(--teal);
    box-shadow: 0 0 0 4px rgba(13,148,136,0.08), var(--shadow-md);
  }
  .scan-form input {
    flex: 1;
    background: transparent;
    border: none;
    padding: 18px 24px;
    font-size: 16px;
    color: var(--text-heading);
    font-family: 'Plus Jakarta Sans', sans-serif;
    outline: none;
  }
  .scan-form input::placeholder { color: var(--text-light); }
  .scan-form button {
    background: var(--teal);
    color: white;
    border: none;
    padding: 18px 28px;
    font-size: 15px;
    font-weight: 700;
    font-family: 'Plus Jakarta Sans', sans-serif;
    cursor: pointer;
    transition: all 0.2s;
    white-space: nowrap;
  }
  .scan-form button:hover { background: var(--teal-light); }
  .scan-form button:disabled { opacity: 0.6; cursor: not-allowed; }

  .hero-trust {
    font-size: 13px;
    color: var(--text-muted);
    margin-top: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 16px;
    animation: fadeInUp 0.8s ease-out 0.45s both;
  }
  .hero-trust span { display: flex; align-items: center; gap: 5px; }

  /* â”€â”€â”€ Social Proof â”€â”€â”€ */
  .social-proof {
    display: flex;
    justify-content: center;
    gap: 40px;
    padding: 48px 0 0;
    animation: fadeInUp 0.8s ease-out 0.5s both;
  }
  .proof-item {
    text-align: center;
  }
  .proof-number {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    font-weight: 700;
    color: var(--text-heading);
  }
  .proof-label {
    font-size: 13px;
    color: var(--text-muted);
    margin-top: 2px;
  }

  /* â”€â”€â”€ How It Works â”€â”€â”€ */
  .how-section {
    padding: 80px 0;
  }
  .section-header {
    text-align: center;
    margin-bottom: 48px;
  }
  .section-header h2 {
    font-family: 'Playfair Display', serif;
    font-size: 36px;
    color: var(--text-heading);
    margin-bottom: 10px;
  }
  .section-header p {
    color: var(--text-muted);
    font-size: 16px;
    max-width: 480px;
    margin: 0 auto;
  }

  .steps-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
    position: relative;
  }
  .steps-grid::before {
    content: '';
    position: absolute;
    top: 40px;
    left: 16.5%;
    right: 16.5%;
    height: 2px;
    background: linear-gradient(90deg, var(--teal-soft), var(--teal), var(--teal-soft));
    opacity: 0.3;
  }
  .step-card {
    text-align: center;
    position: relative;
  }
  .step-number {
    width: 56px; height: 56px;
    border-radius: 50%;
    background: var(--bg-card);
    border: 2px solid var(--teal);
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    font-weight: 700;
    color: var(--teal);
    margin: 0 auto 20px;
    position: relative;
    z-index: 1;
    box-shadow: var(--shadow-sm);
  }
  .step-card h3 {
    font-size: 17px;
    font-weight: 700;
    color: var(--text-heading);
    margin-bottom: 8px;
  }
  .step-card p {
    font-size: 14px;
    color: var(--text-muted);
    line-height: 1.6;
    max-width: 260px;
    margin: 0 auto;
  }

  /* â”€â”€â”€ Features Section â”€â”€â”€ */
  .features-section {
    padding: 40px 0 80px;
  }
  .features-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
  }
  .feature-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 28px;
    transition: all 0.3s;
    box-shadow: var(--shadow-sm);
  }
  .feature-card:hover {
    border-color: var(--border-hover);
    transform: translateY(-3px);
    box-shadow: var(--shadow-lg);
  }
  .feature-emoji {
    width: 52px; height: 52px;
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 26px;
    margin-bottom: 18px;
  }
  .feature-card h3 {
    font-size: 16px;
    font-weight: 700;
    color: var(--text-heading);
    margin-bottom: 8px;
  }
  .feature-card p {
    font-size: 13.5px;
    color: var(--text-muted);
    line-height: 1.7;
  }

  /* â”€â”€â”€ Bottom CTA â”€â”€â”€ */
  .cta-section {
    padding: 40px 0 80px;
  }
  .cta-box {
    background: linear-gradient(135deg, rgba(13,148,136,0.04), rgba(13,148,136,0.08));
    border: 1px solid rgba(13,148,136,0.12);
    border-radius: 24px;
    padding: 64px 40px;
    text-align: center;
  }
  .cta-box h2 {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    color: var(--text-heading);
    margin-bottom: 12px;
  }
  .cta-box p {
    color: var(--text-body);
    font-size: 16px;
    margin-bottom: 28px;
    max-width: 460px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
  }
  .cta-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: var(--teal);
    color: white;
    padding: 16px 36px;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 700;
    font-family: 'Plus Jakarta Sans', sans-serif;
    text-decoration: none;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 16px rgba(13,148,136,0.25);
  }
  .cta-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 28px rgba(13,148,136,0.3); }

  /* â”€â”€â”€ Footer â”€â”€â”€ */
  footer {
    border-top: 1px solid var(--border);
    padding: 32px 0;
    text-align: center;
    font-size: 13px;
    color: var(--text-muted);
    transition: border-color 0.5s;
  }
  footer a { color: var(--text-muted); text-decoration: none; }
  footer a:hover { color: var(--teal); }
  body.dark-mode footer { border-color: var(--border-dark); color: var(--text-dark-muted); }
  body.dark-mode footer a { color: var(--text-dark-muted); }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCANNING OVERLAY â€” Dramatic dark transition 
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .scan-overlay {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 100;
    background: var(--bg-dark);
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 32px;
    animation: overlayIn 0.6s ease-out;
  }
  @keyframes overlayIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  .scan-overlay.active { display: flex; }
  .scan-ring {
    width: 130px; height: 130px;
    border-radius: 50%;
    border: 3px solid rgba(13,148,136,0.15);
    border-top-color: var(--teal);
    animation: spin 1s linear infinite;
    position: relative;
  }
  .scan-ring::after {
    content: '';
    position: absolute;
    inset: 12px;
    border-radius: 50%;
    border: 2px solid rgba(249,112,102,0.1);
    border-bottom-color: var(--coral);
    animation: spin 1.5s linear infinite reverse;
  }
  @keyframes spin { to { transform: rotate(360deg); } }

  .scan-status { text-align: center; }
  .scan-status h3 {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    color: var(--text-dark-primary);
    margin-bottom: 8px;
  }
  .scan-status p { color: var(--text-dark-secondary); font-size: 14px; }
  .scan-progress-bar {
    width: 300px; height: 4px;
    background: rgba(148,163,184,0.1);
    border-radius: 4px;
    overflow: hidden;
  }
  .scan-progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--teal), var(--coral));
    border-radius: 4px;
    width: 0%;
    transition: width 0.3s ease;
  }
  .scan-checks {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 300px;
  }
  .scan-check {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
    color: var(--text-dark-muted);
    transition: color 0.3s;
  }
  .scan-check.done { color: var(--accent-green); }
  .scan-check.active { color: var(--teal-light); }
  .scan-check-icon {
    width: 18px; height: 18px;
    border-radius: 50%;
    border: 1.5px solid currentColor;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    flex-shrink: 0;
  }
  .scan-check.done .scan-check-icon {
    background: var(--accent-green);
    color: white;
    border-color: var(--accent-green);
  }

  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     RESULTS DASHBOARD â€” Dark dramatic mode
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
  .results-section {
    display: none;
    padding: 40px 0 80px;
  }
  .results-section.active { display: block; }

  /* Score Display */
  .score-hero {
    text-align: center;
    margin-bottom: 48px;
  }
  .score-ring-container {
    position: relative;
    width: 210px; height: 210px;
    margin: 0 auto 24px;
  }
  .score-ring-bg {
    width: 100%; height: 100%;
    border-radius: 50%;
    background: conic-gradient(var(--accent-red) 0deg, var(--accent-amber) 120deg, var(--accent-green) 240deg, var(--accent-green) 360deg);
    mask: radial-gradient(transparent 65%, black 66%);
    -webkit-mask: radial-gradient(transparent 65%, black 66%);
    opacity: 0.15;
  }
  .score-ring-fill {
    position: absolute; inset: 0;
    border-radius: 50%;
    background: conic-gradient(var(--accent-red) 0deg, var(--accent-amber) var(--score-deg, 120deg), transparent var(--score-deg, 120deg));
    mask: radial-gradient(transparent 65%, black 66%);
    -webkit-mask: radial-gradient(transparent 65%, black 66%);
    transition: all 1.5s ease-out;
  }
  .score-number {
    position: absolute; inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  .score-number .value {
    font-family: 'Playfair Display', serif;
    font-size: 54px;
    font-weight: 700;
    line-height: 1;
    color: var(--text-dark-primary);
  }
  .score-number .label {
    font-size: 11px;
    color: var(--text-dark-muted);
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-top: 4px;
  }
  .score-rating {
    font-size: 13px;
    font-weight: 700;
    padding: 6px 18px;
    border-radius: 100px;
    display: inline-block;
    margin-bottom: 8px;
  }
  .score-rating.poor { background: rgba(248,113,113,0.15); color: var(--accent-red); }
  .score-rating.fair { background: rgba(251,191,36,0.15); color: var(--accent-amber); }
  .score-rating.good { background: rgba(52,211,153,0.15); color: var(--accent-green); }
  .score-subtitle {
    color: var(--text-dark-secondary);
    font-size: 15px;
    max-width: 480px;
    margin: 8px auto 0;
    line-height: 1.6;
  }

  /* Stats Grid */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 14px;
    margin-bottom: 36px;
  }
  .stat-card {
    background: var(--bg-dark-card);
    border: 1px solid var(--border-dark);
    border-radius: 14px;
    padding: 20px;
    text-align: center;
    transition: all 0.3s;
  }
  .stat-card:hover { border-color: rgba(255,255,255,0.1); transform: translateY(-2px); }
  .stat-value {
    font-family: 'Playfair Display', serif;
    font-size: 30px;
    font-weight: 700;
    margin-bottom: 4px;
  }
  .stat-value.red { color: var(--accent-red); }
  .stat-value.amber { color: var(--accent-amber); }
  .stat-value.cyan { color: var(--accent-cyan); }
  .stat-value.purple { color: var(--accent-purple); }
  .stat-label {
    font-size: 11px;
    color: var(--text-dark-muted);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* Result Panels */
  .results-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 36px;
  }
  .result-panel {
    background: var(--bg-dark-card);
    border: 1px solid var(--border-dark);
    border-radius: 14px;
    overflow: hidden;
  }
  .panel-header {
    padding: 16px 20px;
    border-bottom: 1px solid var(--border-dark);
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  .panel-header h3 {
    font-size: 15px;
    font-weight: 600;
    color: var(--text-dark-primary);
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .panel-header .count {
    font-size: 12px;
    padding: 2px 10px;
    border-radius: 100px;
    font-weight: 600;
  }
  .panel-header .count.red { background: rgba(248,113,113,0.15); color: var(--accent-red); }
  .panel-header .count.amber { background: rgba(251,191,36,0.15); color: var(--accent-amber); }

  .breach-list, .broker-list {
    padding: 8px;
    max-height: 320px;
    overflow-y: auto;
  }
  .breach-item, .broker-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 10px;
    transition: background 0.2s;
  }
  .breach-item:hover, .broker-item:hover { background: var(--bg-dark-hover); }
  .breach-icon, .broker-icon {
    width: 36px; height: 36px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    flex-shrink: 0;
  }
  .breach-icon { background: rgba(248,113,113,0.1); }
  .broker-icon { background: rgba(251,191,36,0.1); }
  .breach-info, .broker-info { flex: 1; min-width: 0; }
  .breach-name, .broker-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-dark-primary);
    margin-bottom: 1px;
  }
  .breach-detail, .broker-detail {
    font-size: 12px;
    color: var(--text-dark-muted);
  }
  .breach-severity, .broker-status {
    font-size: 11px;
    padding: 3px 10px;
    border-radius: 100px;
    font-weight: 600;
    white-space: nowrap;
  }
  .severity-high { background: rgba(248,113,113,0.15); color: var(--accent-red); }
  .severity-medium { background: rgba(251,191,36,0.15); color: var(--accent-amber); }
  .severity-low { background: rgba(34,211,238,0.15); color: var(--accent-cyan); }

  /* Data Value */
  .data-value-card {
    background: linear-gradient(135deg, rgba(248,113,113,0.06), rgba(251,191,36,0.06));
    border: 1px solid rgba(248,113,113,0.12);
    border-radius: 14px;
    padding: 28px;
    text-align: center;
    margin-bottom: 40px;
  }
  .data-value-card h3 {
    font-family: 'Playfair Display', serif;
    font-size: 18px;
    color: var(--text-dark-primary);
    margin-bottom: 4px;
  }
  .data-value-card .big-number {
    font-family: 'Playfair Display', serif;
    font-size: 48px;
    font-weight: 700;
    color: var(--accent-red);
    margin: 8px 0;
  }
  .data-value-card p {
    color: var(--text-dark-secondary);
    font-size: 14px;
    max-width: 500px;
    margin: 0 auto;
    line-height: 1.6;
  }
  .data-value-card p strong { color: var(--text-dark-primary); }

  /* Recommendations */
  .recs-header {
    text-align: center;
    margin-bottom: 24px;
  }
  .recs-header h2 {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    color: var(--text-dark-primary);
    margin-bottom: 6px;
  }
  .recs-header p { color: var(--text-dark-secondary); font-size: 14px; }

  .recs-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin-bottom: 40px;
  }
  .rec-card {
    background: var(--bg-dark-card);
    border: 1px solid var(--border-dark);
    border-radius: 14px;
    padding: 24px;
    transition: all 0.3s;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
  .rec-card:hover {
    border-color: rgba(13,148,136,0.3);
    transform: translateY(-3px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.4);
  }
  .rec-card .match-badge {
    position: absolute;
    top: 12px; right: 12px;
    font-size: 11px;
    padding: 3px 10px;
    border-radius: 100px;
    background: rgba(52,211,153,0.15);
    color: var(--accent-green);
    font-weight: 600;
  }
  .rec-icon {
    width: 44px; height: 44px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    margin-bottom: 14px;
  }
  .rec-card h4 {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-dark-primary);
    margin-bottom: 6px;
  }
  .rec-card p {
    font-size: 13px;
    color: var(--text-dark-secondary);
    line-height: 1.6;
    margin-bottom: 16px;
  }
  .rec-cta {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    font-size: 13px;
    font-weight: 600;
    color: var(--teal-light);
    text-decoration: none;
    transition: gap 0.2s;
  }
  .rec-cta:hover { gap: 10px; }

  /* Results CTA */
  .results-cta .cta-box {
    background: linear-gradient(135deg, rgba(13,148,136,0.06), rgba(13,148,136,0.1));
    border-color: rgba(13,148,136,0.15);
  }
  .results-cta .cta-box h2 { color: var(--text-dark-primary); }
  .results-cta .cta-box p { color: var(--text-dark-secondary); }

  /* â”€â”€â”€ Animations â”€â”€â”€ */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes fadeInDown {
    from { opacity: 0; transform: translateY(-12px); }
    to { opacity: 1; transform: translateY(0); }
  }
  .fade-in { animation: fadeInUp 0.5s ease-out both; }
  .fade-in-1 { animation-delay: 0.1s; }
  .fade-in-2 { animation-delay: 0.2s; }
  .fade-in-3 { animation-delay: 0.3s; }
  .fade-in-4 { animation-delay: 0.4s; }
  .fade-in-5 { animation-delay: 0.5s; }

  /* â”€â”€â”€ Responsive â”€â”€â”€ */
  @media (max-width: 768px) {
    .nav-links a:not(.nav-cta) { display: none; }
    .stats-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
    .results-grid, .recs-grid, .features-grid, .steps-grid { grid-template-columns: 1fr; }
    .steps-grid::before { display: none; }
    .scan-form { flex-direction: column; border-radius: 12px; }
    .scan-form input { padding: 16px 20px; text-align: center; }
    .scan-form button { border-radius: 0 0 12px 12px; padding: 16px; }
    .hero { padding: 40px 0 32px; }
    .hero h1 { font-size: 32px; }
    .hero p { font-size: 16px; margin-bottom: 28px; }
    .social-proof { gap: 20px; flex-wrap: wrap; padding-top: 32px; }
    .proof-number { font-size: 22px; }
    .hero-trust { flex-direction: column; gap: 6px; font-size: 12px; }
    .section-header h2 { font-size: 28px; }
    .how-section { padding: 48px 0; }
    .features-section { padding: 20px 0 48px; }
    .feature-card { padding: 22px; }
    .cta-box { padding: 40px 24px; border-radius: 16px; }
    .cta-box h2 { font-size: 24px; }
    .cta-btn { padding: 14px 28px; font-size: 15px; }
    .score-ring-container { width: 170px; height: 170px; }
    .score-number .value { font-size: 42px; }
    .stat-card { padding: 16px 12px; }
    .stat-value { font-size: 24px; }
    .stat-label { font-size: 10px; }
    .data-value-card { padding: 22px 16px; }
    .data-value-card .big-number { font-size: 38px; }
    .recs-header h2 { font-size: 22px; }
    .rec-card { padding: 20px; }
    .panel-header h3 { font-size: 14px; }
    .container { padding: 0 16px; }
    .scan-checks { width: 260px; }
    .scan-progress-bar { width: 260px; }
  }

  @media (max-width: 380px) {
    .hero h1 { font-size: 28px; }
    .stats-grid { grid-template-columns: repeat(2, 1fr); gap: 8px; }
    .stat-value { font-size: 20px; }
    .proof-number { font-size: 20px; }
    .social-proof { gap: 16px; }
  }

  /* â”€â”€â”€ Scrollbar (dark mode) â”€â”€â”€ */
  body.dark-mode ::-webkit-scrollbar { width: 4px; }
  body.dark-mode ::-webkit-scrollbar-track { background: transparent; }
  body.dark-mode ::-webkit-scrollbar-thumb { background: var(--text-dark-muted); border-radius: 4px; }
</style>
</head>
<body>

<!-- Warm background (landing) -->
<div class="warm-bg">
  <div class="glow glow-1"></div>
  <div class="glow glow-2"></div>
  <div class="glow glow-3"></div>
</div>

<!-- Dark background (results) -->
<div class="dark-bg">
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
</div>

<!-- NAV -->
<div class="container">
  <nav>
    <a href="#" class="logo" onclick="showLanding()">
      <div class="logo-mark">M</div>
      MyBeacon
    </a>
    <div class="nav-links">
      <a href="#features-section">Features</a>
      <a href="#how-section">How It Works</a>
      <a href="#" class="nav-cta" onclick="document.getElementById('email-input').focus()">Get Your Score</a>
    </div>
  </nav>
</div>

<!-- â•â•â• LANDING â•â•â• -->
<div id="landing-section">
  <div class="container">
    <section class="hero">
      <div class="hero-badge">
        <span class="dot"></span>
        Free forever â€” no credit card needed
      </div>
      <h1>
        Know your <span class="highlight">privacy.</span><br>
        Own your <span class="highlight">data.</span>
      </h1>
      <p>
        Companies are making money from your personal data. MyBeacon shows you exactly who has your information, what it's worth, and how to take it back.
      </p>
      <div class="scan-form-wrap">
        <div class="scan-form">
          <input type="email" id="email-input" placeholder="Enter your email to start your free scan..." autocomplete="email">
          <button onclick="startScan()" id="scan-btn">Get My Score</button>
        </div>
        <div class="hero-trust">
          <span>ğŸ”’ Encrypted & secure</span>
          <span>âš¡ Takes 60 seconds</span>
          <span>ğŸ’š We never sell your data</span>
        </div>
      </div>

      <div class="social-proof">
        <div class="proof-item">
          <div class="proof-number">2M+</div>
          <div class="proof-label">Scans completed</div>
        </div>
        <div class="proof-item">
          <div class="proof-number">47</div>
          <div class="proof-label">Avg. broker exposures</div>
        </div>
        <div class="proof-item">
          <div class="proof-number">$2,340</div>
          <div class="proof-label">Avg. data value found</div>
        </div>
      </div>
    </section>
  </div>

  <!-- HOW IT WORKS -->
  <div class="container" id="how-section">
    <section class="how-section">
      <div class="section-header">
        <h2>How it works</h2>
        <p>Three steps to understanding your digital exposure.</p>
      </div>
      <div class="steps-grid">
        <div class="step-card fade-in fade-in-1">
          <div class="step-number">1</div>
          <h3>Enter your email</h3>
          <p>We scan breach databases, data broker sites, and dark web sources for your personal information.</p>
        </div>
        <div class="step-card fade-in fade-in-2">
          <div class="step-number">2</div>
          <h3>See your Beacon Score</h3>
          <p>Get a single number (300-850) that tells you how exposed your personal data is across the internet.</p>
        </div>
        <div class="step-card fade-in fade-in-3">
          <div class="step-number">3</div>
          <h3>Take back control</h3>
          <p>Get personalized recommendations based on your specific exposure â€” not generic advice.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- FEATURES -->
  <div class="container" id="features-section">
    <section class="features-section">
      <div class="section-header">
        <h2>Your privacy, in one place</h2>
        <p>Everything you need to understand and protect your digital life â€” completely free.</p>
      </div>
      <div class="features-grid">
        <div class="feature-card fade-in fade-in-1">
          <div class="feature-emoji" style="background: var(--coral-soft);">ğŸ”´</div>
          <h3>Breach Detection</h3>
          <p>Instant scan across 600+ known breaches. See exactly which incidents exposed your data and what was compromised.</p>
        </div>
        <div class="feature-card fade-in fade-in-2">
          <div class="feature-emoji" style="background: var(--amber-soft);">ğŸ“¡</div>
          <h3>Data Broker Tracking</h3>
          <p>We check 200+ data brokers who buy and sell your personal information. See who's profiting from your data.</p>
        </div>
        <div class="feature-card fade-in fade-in-3">
          <div class="feature-emoji" style="background: var(--teal-soft);">ğŸ“Š</div>
          <h3>Your Beacon Score</h3>
          <p>A single number (300-850) that tells you how exposed your personal data is. Track it over time as you take back control.</p>
        </div>
        <div class="feature-card fade-in fade-in-1">
          <div class="feature-emoji" style="background: var(--purple-soft);">ğŸ’°</div>
          <h3>Data Value Calculator</h3>
          <p>See exactly how much money companies have made selling YOUR data. The number will surprise you.</p>
        </div>
        <div class="feature-card fade-in fade-in-2">
          <div class="feature-emoji" style="background: var(--green-soft);">ğŸ›¡ï¸</div>
          <h3>Smart Recommendations</h3>
          <p>Personalized action plan based on YOUR exposure. Not generic advice â€” targeted solutions for your specific risks.</p>
        </div>
        <div class="feature-card fade-in fade-in-3">
          <div class="feature-emoji" style="background: var(--amber-soft);">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</div>
          <h3>Family Shield</h3>
          <p>Scan and protect your entire household. See if your kids already have data broker profiles. Most do.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- BOTTOM CTA -->
  <div class="container">
    <section class="cta-section">
      <div class="cta-box">
        <h2>Your data is already out there.</h2>
        <p>The average American's personal info is on 47 data broker sites. Find out your number â€” it takes 60 seconds.</p>
        <button class="cta-btn" onclick="document.getElementById('email-input').focus(); window.scrollTo({top:0,behavior:'smooth'})">
          Get My Free Beacon Score
        </button>
      </div>
    </section>
  </div>
</div>

<!-- â•â•â• SCANNING OVERLAY â•â•â• -->
<div class="scan-overlay" id="scan-overlay">
  <div class="scan-ring"></div>
  <div class="scan-status">
    <h3 id="scan-title">Scanning your exposure...</h3>
    <p id="scan-subtitle">This usually takes about 30 seconds</p>
  </div>
  <div class="scan-progress-bar">
    <div class="scan-progress-fill" id="scan-progress"></div>
  </div>
  <div class="scan-checks">
    <div class="scan-check" id="check-1">
      <div class="scan-check-icon">âœ“</div>
      <span>Checking data breach databases...</span>
    </div>
    <div class="scan-check" id="check-2">
      <div class="scan-check-icon">âœ“</div>
      <span>Scanning data broker sites...</span>
    </div>
    <div class="scan-check" id="check-3">
      <div class="scan-check-icon">âœ“</div>
      <span>Analyzing dark web exposure...</span>
    </div>
    <div class="scan-check" id="check-4">
      <div class="scan-check-icon">âœ“</div>
      <span>Calculating your data value...</span>
    </div>
    <div class="scan-check" id="check-5">
      <div class="scan-check-icon">âœ“</div>
      <span>Generating your Beacon Score...</span>
    </div>
  </div>
</div>

<!-- â•â•â• RESULTS DASHBOARD â•â•â• -->
<div class="container">
  <section class="results-section" id="results-section">
    <div class="score-hero fade-in">
      <div class="score-ring-container">
        <div class="score-ring-bg"></div>
        <div class="score-ring-fill" id="score-ring-fill"></div>
        <div class="score-number">
          <div class="value" id="score-value">---</div>
          <div class="label">Beacon Score</div>
        </div>
      </div>
      <div class="score-rating poor" id="score-rating">Poor</div>
      <div class="score-subtitle" id="score-subtitle">
        Your personal data is highly exposed. Immediate action is recommended.
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-card fade-in fade-in-1">
        <div class="stat-value red" id="stat-breaches">9</div>
        <div class="stat-label">Data Breaches</div>
      </div>
      <div class="stat-card fade-in fade-in-2">
        <div class="stat-value amber" id="stat-brokers">34</div>
        <div class="stat-label">Broker Sites</div>
      </div>
      <div class="stat-card fade-in fade-in-3">
        <div class="stat-value cyan" id="stat-records">847</div>
        <div class="stat-label">Records Found</div>
      </div>
      <div class="stat-card fade-in fade-in-4">
        <div class="stat-value purple" id="stat-darkweb">3</div>
        <div class="stat-label">Dark Web Hits</div>
      </div>
    </div>

    <div class="data-value-card fade-in fade-in-2">
      <h3>ğŸ’° Estimated Value of Your Data</h3>
      <div class="big-number" id="data-value">$2,340</div>
      <p>Companies have sold your personal profile an estimated <strong id="times-sold">847 times</strong>. You've received <strong>$0</strong> of that revenue.</p>
    </div>

    <div class="results-grid">
      <div class="result-panel fade-in fade-in-3">
        <div class="panel-header">
          <h3>âš ï¸ Data Breaches</h3>
          <span class="count red" id="breach-count">9 found</span>
        </div>
        <div class="breach-list" id="breach-list"></div>
      </div>
      <div class="result-panel fade-in fade-in-4">
        <div class="panel-header">
          <h3>ğŸ“¡ Data Brokers</h3>
          <span class="count amber" id="broker-count">34 sites</span>
        </div>
        <div class="broker-list" id="broker-list"></div>
      </div>
    </div>

    <div class="recs-header fade-in">
      <h2>Your Privacy Action Plan</h2>
      <p>Personalized recommendations based on your scan results</p>
    </div>
    <div class="recs-grid" id="recs-grid"></div>

    <div class="cta-section results-cta">
      <div class="cta-box fade-in">
        <h2>Protect your family too</h2>
        <p>Your kids, spouse, and parents are likely just as exposed. Scan your household for free.</p>
        <button class="cta-btn" onclick="alert('Family Shield coming soon!')">
          Scan My Family
        </button>
      </div>
    </div>
  </section>
</div>

<footer>
  <div class="container">
    Â© 2026 MyBeacon. Your privacy is our mission. Â·
    <a href="#">Privacy Policy</a> Â·
    <a href="#">Terms</a> Â·
    <a href="#">Contact</a>
  </div>
</footer>

<script>
  // â”€â”€â”€ STATIC DATA (brokers are estimated, recommendations are always shown) â”€â”€â”€
  const defaultBrokers = [
    { name: "Spokeo", type: "People Search", data: "Full profile" },
    { name: "WhitePages", type: "People Search", data: "Name, Address, Phone" },
    { name: "BeenVerified", type: "Background Check", data: "Full profile" },
    { name: "Radaris", type: "People Search", data: "Full profile" },
    { name: "FastPeopleSearch", type: "People Search", data: "Name, Address, Phone" },
    { name: "TruePeopleSearch", type: "People Search", data: "Full profile" },
    { name: "Intelius", type: "Background Check", data: "Full profile" },
    { name: "USPhoneBook", type: "Phone Directory", data: "Phone, Address" },
    { name: "Acxiom", type: "Data Aggregator", data: "Demographic + Behavioral" },
    { name: "CoreLogic", type: "Property Data", data: "Property records" },
    { name: "LexisNexis", type: "Risk Analytics", data: "Full profile" },
    { name: "Epsilon", type: "Marketing Data", data: "Shopping behavior" },
  ];

  const recommendations = [
    {
      icon: "ğŸ”", iconBg: "rgba(248,113,113,0.1)",
      title: "Password Manager",
      triggers: ["Passwords"],
      priority: 1,
      affiliateUrl: "#", // REPLACE: 1Password / Bitwarden affiliate link
      cta: "Protect my passwords â†’",
      generate: (count, total) => count > 0
        ? `Your passwords were exposed in ${count} of your ${total} breaches. Every reused password is an open door. A password manager creates unique, uncrackable passwords for every account â€” and remembers them all.`
        : null
    },
    {
      icon: "ğŸ›¡ï¸", iconBg: "rgba(248,113,113,0.1)",
      title: "Identity Theft Protection",
      triggers: ["Social security numbers", "Credit cards", "Bank account numbers", "Financial data"],
      priority: 2,
      affiliateUrl: "#", // REPLACE: Aura / IdentityGuard affiliate link
      cta: "Get protected now â†’",
      generate: (count, total, classes) => {
        const found = classes.filter(c => ["Social security numbers", "Credit cards", "Bank account numbers", "Financial data"].includes(c));
        return found.length > 0
          ? `Your ${found.join(' and ').toLowerCase()} ${found.length > 1 ? 'were' : 'was'} exposed. This is the most dangerous type of breach â€” it enables identity theft, fraudulent accounts, and financial loss. Insurance provides monitoring, alerts, and up to $1M in recovery.`
          : null;
      }
    },
    {
      icon: "ğŸ—‘ï¸", iconBg: "rgba(167,139,250,0.1)",
      title: "Data Removal Service",
      triggers: ["Physical addresses", "Phone numbers", "Names"],
      priority: 3,
      affiliateUrl: "#", // REPLACE: DeleteMe / Optery affiliate link
      cta: "Start removing my data â†’",
      generate: (count, total, classes, brokers) => brokers > 0
        ? `Your personal info is on an estimated ${brokers} data broker sites right now â€” anyone can look you up. Automated removal services submit opt-out requests on your behalf and keep scrubbing as your data reappears.`
        : null
    },
    {
      icon: "ğŸŒ", iconBg: "rgba(13,148,136,0.1)",
      title: "VPN Protection",
      triggers: ["IP addresses"],
      priority: 4,
      affiliateUrl: "#", // REPLACE: NordVPN / Surfshark affiliate link
      cta: "See top VPNs â†’",
      generate: (count, total, classes) => {
        const hasIP = classes.includes("IP addresses");
        return total > 0
          ? `${hasIP ? 'Your IP address was exposed, meaning your location and browsing can be tracked. ' : ''}A VPN encrypts all your internet traffic and hides your real location from advertisers, hackers, and your ISP.`
          : null;
      }
    },
    {
      icon: "ğŸ“§", iconBg: "rgba(251,191,36,0.1)",
      title: "Encrypted Email",
      triggers: ["Email addresses"],
      priority: 5,
      affiliateUrl: "#", // REPLACE: Proton Mail affiliate link
      cta: "Switch to private email â†’",
      generate: (count, total) => count > 0
        ? `Your email address appeared in ${total} breach${total !== 1 ? 'es' : ''}. Standard email providers like Gmail scan your messages for ads. Encrypted email keeps your inbox private â€” even from the provider.`
        : null
    },
    {
      icon: "ğŸ“±", iconBg: "rgba(232,147,12,0.1)",
      title: "Privacy Phone Number",
      triggers: ["Phone numbers"],
      priority: 6,
      affiliateUrl: "#", // REPLACE: MySudo / Burner affiliate link
      cta: "Get a private number â†’",
      generate: (count, total, classes, brokers) => {
        const hasPhone = classes.includes("Phone numbers");
        return hasPhone
          ? `Your phone number was exposed in breaches and is likely listed on ${brokers} broker sites. A privacy number lets you give out a secondary number â€” keeping your real one hidden from companies and strangers.`
          : null;
      }
    }
  ];

  // â”€â”€â”€ GLOBAL STATE â”€â”€â”€
  let scanResults = null;

  // â”€â”€â”€ RENDER FUNCTIONS â”€â”€â”€
  function renderBreaches(breaches) {
    const list = document.getElementById('breach-list');
    const sevEmoji = { high: 'ğŸ”´', medium: 'ğŸŸ¡', low: 'ğŸ”µ' };
    const sevLabel = { high: 'Critical', medium: 'Medium', low: 'Low' };

    if (breaches.length === 0) {
      list.innerHTML = '<div style="padding:20px;text-align:center;color:var(--text-dark-muted);">No breaches found â€” nice work keeping your data safe!</div>';
      return;
    }

    list.innerHTML = breaches.map(b => `
      <div class="breach-item">
        <div class="breach-icon">${sevEmoji[b.severity]}</div>
        <div class="breach-info">
          <div class="breach-name">${b.name}</div>
          <div class="breach-detail">${b.date} Â· ${b.data}</div>
        </div>
        <span class="breach-severity severity-${b.severity}">${sevLabel[b.severity]}</span>
      </div>
    `).join('');
  }

  function renderBrokers(count) {
    const list = document.getElementById('broker-list');
    const brokersToShow = defaultBrokers.slice(0, Math.min(count, defaultBrokers.length));
    const remaining = count - brokersToShow.length;

    let html = brokersToShow.map(b => `
      <div class="broker-item">
        <div class="broker-icon">ğŸ“‹</div>
        <div class="broker-info">
          <div class="broker-name">${b.name}</div>
          <div class="broker-detail">${b.type} Â· ${b.data}</div>
        </div>
        <span class="broker-status severity-medium">Exposed</span>
      </div>
    `).join('');

    if (remaining > 0) {
      html += `<div style="padding:12px 16px;text-align:center;color:var(--text-dark-muted);font-size:13px;">+ ${remaining} more broker sites have your data</div>`;
    }

    list.innerHTML = html;
  }

  function renderRecs(breaches, stats) {
    const grid = document.getElementById('recs-grid');
    const allDataClasses = [...new Set(breaches.flatMap(b => b.dataClasses || []))];
    const totalBreaches = breaches.length;
    const brokerCount = stats.brokerEstimate;

    // Generate personalized cards
    const cards = [];
    recommendations.forEach(rec => {
      // Count how many breaches triggered this rec
      const triggerCount = breaches.filter(b =>
        (b.dataClasses || []).some(dc => rec.triggers.includes(dc))
      ).length;

      const desc = rec.generate(triggerCount, totalBreaches, allDataClasses, brokerCount);
      if (desc) {
        // Calculate real match percentage based on relevance
        const baseMatch = triggerCount > 0 ? 85 : 70;
        const bonus = Math.min(triggerCount * 3, 14);
        const matchPct = Math.min(baseMatch + bonus, 99);

        cards.push({
          ...rec,
          desc: desc,
          matchPct: matchPct,
          triggerCount: triggerCount
        });
      }
    });

    // Sort by trigger relevance, then priority
    cards.sort((a, b) => {
      if (b.triggerCount !== a.triggerCount) return b.triggerCount - a.triggerCount;
      return a.priority - b.priority;
    });

    const toShow = cards.slice(0, 6);

    grid.innerHTML = toShow.map(r => `
      <div class="rec-card" onclick="window.open('${r.affiliateUrl}', '_blank')">
        <span class="match-badge">${r.matchPct}% match</span>
        <div class="rec-icon" style="background:${r.iconBg}">${r.icon}</div>
        <h4>${r.title}</h4>
        <p>${r.desc}</p>
        <a href="${r.affiliateUrl}" class="rec-cta" onclick="event.stopPropagation()" target="_blank" rel="noopener">${r.cta}</a>
      </div>
    `).join('');
  }

  // â”€â”€â”€ SCAN â”€â”€â”€
  async function startScan() {
    const email = document.getElementById('email-input').value.trim();
    if (!email || !email.includes('@')) {
      const input = document.getElementById('email-input');
      input.style.borderColor = 'var(--coral)';
      input.placeholder = 'Please enter a valid email...';
      setTimeout(() => {
        input.style.borderColor = '';
        input.placeholder = 'Enter your email to start your free scan...';
      }, 2000);
      return;
    }

    // Show scanning overlay
    const overlay = document.getElementById('scan-overlay');
    overlay.classList.add('active');

    const progress = document.getElementById('scan-progress');
    const checks = [
      document.getElementById('check-1'),
      document.getElementById('check-2'),
      document.getElementById('check-3'),
      document.getElementById('check-4'),
      document.getElementById('check-5')
    ];
    const titles = [
      'Checking breach databases...',
      'Scanning data broker sites...',
      'Searching the dark web...',
      'Calculating your data value...',
      'Generating your Beacon Score...'
    ];

    // Start the real API call immediately
    const apiPromise = fetch(`/api/scan?email=${encodeURIComponent(email)}`)
      .then(r => {
        if (!r.ok) throw new Error('Scan failed');
        return r.json();
      })
      .catch(err => {
        console.error('API Error:', err);
        return null;
      });

    // Run animation while API loads
    let step = 0;
    const totalSteps = 5;

    function advance() {
      return new Promise(resolve => {
        if (step < totalSteps) {
          checks[step].classList.add('active');
          document.getElementById('scan-title').textContent = titles[step];
          progress.style.width = ((step + 1) / totalSteps * 100) + '%';

          setTimeout(() => {
            checks[step].classList.remove('active');
            checks[step].classList.add('done');
            step++;
            resolve(advance());
          }, 1200);
        } else {
          resolve();
        }
      });
    }

    // Wait for both animation and API to finish
    const [_, apiData] = await Promise.all([advance(), apiPromise]);

    if (!apiData) {
      // API failed â€” show error
      overlay.classList.remove('active');
      alert('Something went wrong with the scan. Please try again.');
      // Reset checks
      checks.forEach(c => { c.classList.remove('done','active'); });
      progress.style.width = '0%';
      return;
    }

    scanResults = apiData;

    // Brief pause for drama, then show results
    setTimeout(() => showResults(apiData), 600);
  }

  function showResults(data) {
    // Transition to dark mode
    document.body.classList.add('dark-mode');

    document.getElementById('scan-overlay').classList.remove('active');
    document.getElementById('landing-section').style.display = 'none';
    const results = document.getElementById('results-section');
    results.classList.add('active');

    // Set score rating
    const scoreVal = data.score;
    let ratingText, ratingClass;
    if (scoreVal < 500) { ratingText = 'Poor'; ratingClass = 'poor'; }
    else if (scoreVal < 700) { ratingText = 'Fair'; ratingClass = 'fair'; }
    else { ratingText = 'Good'; ratingClass = 'good'; }

    document.getElementById('score-rating').textContent = ratingText;
    document.getElementById('score-rating').className = 'score-rating ' + ratingClass;

    // Score subtitle
    if (scoreVal < 500) {
      document.getElementById('score-subtitle').textContent = 'Your personal data is highly exposed. Immediate action is recommended.';
    } else if (scoreVal < 700) {
      document.getElementById('score-subtitle').textContent = 'Your data has moderate exposure. A few steps can significantly improve your privacy.';
    } else {
      document.getElementById('score-subtitle').textContent = 'Your data exposure is relatively low. Keep up the good work protecting your privacy.';
    }

    // Animate score ring
    const scoreDeg = (scoreVal / 850) * 360;
    document.getElementById('score-ring-fill').style.setProperty('--score-deg', scoreDeg + 'deg');

    let current = 300;
    const scoreAnim = setInterval(() => {
      current += 3;
      if (current >= scoreVal) { current = scoreVal; clearInterval(scoreAnim); }
      document.getElementById('score-value').textContent = current;
    }, 20);

    // Score color
    const scoreColor = scoreVal < 500 ? 'var(--accent-red)' : scoreVal < 700 ? 'var(--accent-amber)' : 'var(--accent-green)';
    document.getElementById('score-value').style.color = scoreColor;

    const gradEnd = scoreVal < 500 ? 'var(--accent-amber)' : scoreVal < 700 ? 'var(--accent-green)' : 'var(--accent-green)';
    document.getElementById('score-ring-fill').style.background =
      `conic-gradient(var(--accent-red) 0deg, ${gradEnd} ${scoreDeg}deg, transparent ${scoreDeg}deg)`;

    // Stats
    document.getElementById('stat-breaches').textContent = data.stats.breachCount;
    document.getElementById('stat-brokers').textContent = data.stats.brokerEstimate;
    document.getElementById('stat-records').textContent = data.stats.recordsFound.toLocaleString();
    document.getElementById('stat-darkweb').textContent = data.stats.darkWebHits;
    document.getElementById('breach-count').textContent = data.stats.breachCount + ' found';
    document.getElementById('broker-count').textContent = data.stats.brokerEstimate + ' sites';

    // Data value
    document.getElementById('data-value').textContent = '$' + data.stats.dataValue.toLocaleString();
    document.getElementById('times-sold').textContent = data.stats.recordsFound.toLocaleString() + ' times';

    // Render panels
    renderBreaches(data.breaches);
    renderBrokers(data.stats.brokerEstimate);
    renderRecs(data.breaches, data.stats);

    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  function showLanding() {
    document.body.classList.remove('dark-mode');
    document.getElementById('landing-section').style.display = 'block';
    document.getElementById('results-section').classList.remove('active');
    const checks = document.querySelectorAll('.scan-check');
    checks.forEach(c => { c.classList.remove('done','active'); });
    document.getElementById('scan-progress').style.width = '0%';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
</script>

</body>
</html>
